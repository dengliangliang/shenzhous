<view class="address-container"><view class="type-tabs"><view data-event-opts="{{[['tap',[['switchType',[0]]]]]}}" class="{{['tab-item',(currentType===0)?'active':'']}}" bindtap="__e"><uni-icons vue-id="2352cdac-1" type="{{currentType===0?'paperplane-filled':'paperplane'}}" size="20" color="{{currentType===0?'#FF6B01':'#666'}}" bind:__l="__l"></uni-icons><text>寄件人地址</text></view><view data-event-opts="{{[['tap',[['switchType',[1]]]]]}}" class="{{['tab-item',(currentType===1)?'active':'']}}" bindtap="__e"><uni-icons vue-id="2352cdac-2" type="{{currentType===1?'home-filled':'home'}}" size="20" color="{{currentType===1?'#FF6B01':'#666'}}" bind:__l="__l"></uni-icons><text>收货人地址</text></view></view><scroll-view class="address-list" scroll-y="{{true}}" refresher-enabled="{{true}}" refresher-triggered="{{refreshing}}" data-event-opts="{{[['scrolltolower',[['loadMore',['$event']]]],['refresherrefresh',[['onRefresh',['$event']]]]]}}" bindscrolltolower="__e" bindrefresherrefresh="__e"><block wx:for="{{addressList}}" wx:for-item="item" wx:for-index="index" wx:key="addressId"><view data-event-opts="{{[['tap',[['onAddressItemClick',['$0'],[[['addressList','addressId',item.addressId]]]]]]]}}" class="{{['address-item','animate__animated','animate__fadeIn',(selectMode&&selectedAddressId===item.addressId)?'selected':'']}}" style="{{'animation-delay:'+(index*0.1+'s')+';'}}" bindtap="__e"><block wx:if="{{selectMode}}"><view class="select-indicator"><view class="{{['select-circle',(selectedAddressId===item.addressId)?'checked':'']}}"><block wx:if="{{selectedAddressId===item.addressId}}"><uni-icons vue-id="{{'2352cdac-3-'+index}}" type="checkmarkempty" size="16" color="#FFFFFF" bind:__l="__l"></uni-icons></block></view></view></block><view class="info"><view class="top"><view class="left"><text class="name">{{item.contactName}}</text><text class="phone">{{item.contactPhone}}</text></view><view class="right"><block wx:if="{{item.isDefault}}"><text class="tag default">默认</text></block><text class="tag type">{{item.type===0?'寄件':'收货'}}</text></view></view><view class="address"><text class="label">地址：</text><text class="content">{{item.province+item.city+item.district+item.detailAddress}}</text></view><block wx:if="{{!selectMode}}"><view class="actions"><block wx:if="{{!item.isDefault}}"><view data-event-opts="{{[['tap',[['setDefault',['$0'],[[['addressList','addressId',item.addressId]]]]]]]}}" class="action-btn" catchtap="__e"><uni-icons vue-id="{{'2352cdac-4-'+index}}" type="checkmarkempty" size="20" color="#666" bind:__l="__l"></uni-icons><text>设为默认</text></view></block><view data-event-opts="{{[['tap',[['editAddress',['$0'],[[['addressList','addressId',item.addressId]]]]]]]}}" class="action-btn" catchtap="__e"><uni-icons vue-id="{{'2352cdac-5-'+index}}" type="compose" size="20" color="#666" bind:__l="__l"></uni-icons><text>编辑</text></view><view data-event-opts="{{[['tap',[['deleteAddress',['$0'],[[['addressList','addressId',item.addressId]]]]]]]}}" class="action-btn delete" catchtap="__e"><uni-icons vue-id="{{'2352cdac-6-'+index}}" type="trash" size="20" color="#FF4D4F" bind:__l="__l"></uni-icons><text>删除</text></view></view></block></view></view></block><block wx:if="{{$root.g0>0}}"><view class="load-more"><block wx:if="{{loading}}"><text>加载中...</text></block><block wx:else><block wx:if="{{!hasMore}}"><text>没有更多了</text></block></block></view></block><block wx:if="{{$root.g1===0}}"><view class="empty-state"><image src="/static/img/empty-address.png" mode="aspectFit"></image><view><text>{{"暂无"+(currentType===0?'寄件人':'收货人')+"地址"}}</text></view><view data-event-opts="{{[['tap',[['addAddress',['$event']]]]]}}" class="empty-add-btn" bindtap="__e"><uni-icons vue-id="2352cdac-7" type="plus" size="16" color="#FF6B01" bind:__l="__l"></uni-icons><text>添加地址</text></view></view></block></scroll-view><view class="bottom-btn"><block wx:if="{{selectMode&&selectedAddressId}}"><button data-event-opts="{{[['tap',[['confirmSelect',['$event']]]]]}}" class="confirm-btn" bindtap="__e"><text>确认选择</text></button></block><block wx:else><button data-event-opts="{{[['tap',[['addAddress',['$event']]]]]}}" class="add-btn" bindtap="__e"><uni-icons vue-id="2352cdac-8" type="plus" size="20" color="#FFFFFF" bind:__l="__l"></uni-icons><text>{{"新增"+(currentType===0?'寄件人':'收货人')+"地址"}}</text></button></block></view></view>